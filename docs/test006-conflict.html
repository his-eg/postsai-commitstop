<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="test.css">
<title>Test 006: Configuration edit conflict</title>
</head>
<body>


<header>
<div class="content">
<h1><a class="homelink" href=".">Commit Stop</a></h1>
<h2>Manage Push Permissions</h2>

<a class="button" href="https://github.com/his-eg/postsai-commitstop">GitHub</a>
<a class="button" href="tests.html">Tests</a>
<a class="button download" href="https://github.com/his-eg/postsai-commitstop">Download</a>

</div>
</header>

<div class="content">

<section>
<table class="table table-bordered">

<tr class="th">
<th colspan="2"><h3>Test 006: Configuration edit conflict</h3></th>
</tr>

<tr>
<th>Objective</th>
<td>IF someone opens the configuration editor page and later saves a configuration change<br>
AND another person has saved a configuration change in the mean time<br>
THEN the configuration change is saved but a warning is displayed.</td>
</tr>

<tr>
<th>Test Status</th>
<td>Stable</td>
</tr>

<tr>
<th>Prerequisite</th>
<td>Access to the webinterface with right repository_status_permission.</td>
</tr>

</table>
</section>


<section>
<table class="table table-striped table-bordered table-hover">
<tr class="th">
<th>#</th>
<th>Action</th>
<th>User input</th>
<th>Expected result</th>
</tr>

<tbody>

<tr>
<td>1</td>
<td>Open website</td>
<td>Open <i>Commit Stop</i>'s web interface in a browser.</td>
<td>The current configuration is displayed in full and a list of configuration changes below.</td>
</tr>


<tr>
<td>2</td>
<td>Open website in a second  tabl</td>
<td>Open <i>Commit Stop</i>'s web interface again in a new browser tab.</td>
<td>The current configuration is displayed in full and a list of configuration changes below.</td>
</tr>


<tr>
<td>3</td>
<td>Switch to first browser tab</td>
<td>Click on the original browser tab to activate it again.</td>
<td>The current configuration is visible in the text area.</td>
</tr>


<tr>
<td>5</td>
<td>Change configuration</td>
<td>Add this line at the top of the configuration: <pre>
# Test 006a</pre></td>
<td>The modified configuration is visible in the text area.</td>
</tr>

<tr>
<td>6</td>
<td>Comment change</td>
<td>In the comment field, enter: Test 006a.</td>
<td>The modified comment is visible in the input field.</td>
</tr>

<tr>
<td>7</td>
<td>Save changes</td>
<td>Click "Submit" button.</td>
<td>The configuration is saved. And # Test 006a is visible in the configuration field.</td>
</tr>

<tr>
<td>8</td>
<td>Switch to second browser tab</td>
<td>Click on the second browser tab to activate it again.</td>
<td>The old configuration is visible in the text area.</td>
</tr>


<tr>
<td>9</td>
<td>Change configuration</td>
<td>Add this line at the top of the configuration: <pre>
# Test 006b</pre></td>
<td>The modified configuration is visible in the text area.</td>
</tr>

<tr>
<td>10</td>
<td>Comment change</td>
<td>In the comment field, enter: Test 006b.</td>
<td>The modified comment is visible in the input field.</td>
</tr>

<tr>
<td>11</td>
<td>Save changes</td>
<td>Click "Submit" button.</td>
<td>The configuration is saved and a popup message is displayed saying: "Changes have been submitted concurrently. Please revisit the configuration".</td>
</tr>

</tbody>
</table>
</section>


</div>
</body>
</html>

