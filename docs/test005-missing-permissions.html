<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="test.css">
<title>Test 005: Missing configuration permissions</title>
</head>
<body>


<header>
<div class="content">
<h1><a class="homelink" href=".">Commit Stop</a></h1>
<h2>Manage Push Permissions</h2>

<a class="button" href="https://github.com/his-eg/postsai-commitstop">GitHub</a>
<a class="button" href="tests.html">Tests</a>
<a class="button download" href="https://github.com/his-eg/postsai-commitstop">Download</a>

</div>
</header>

<div class="content">

<section>
<table class="table table-bordered">

<tr class="th">
<th colspan="2"><h3>Test 005: Missing configuration permissions</h3></th>
</tr>

<tr>
<th>Objective</th>
<td>IF someone tries to save a configuration change<br>
AND the person is missing <code>repository_status_permission</code><br>
THEN the configuration change is rejected</td>
</tr>

<tr>
<th>Test Status</th>
<td>Stable</td>
</tr>

<tr>
<th>Prerequisite</th>
<td>An account with access to the configuration but without repository_status_permission.</td>
</tr>

</table>
</section>


<section>
<table class="table table-striped table-bordered table-hover">
<tr class="th">
<th>#</th>
<th>Action</th>
<th>User input</th>
<th>Expected result</th>
</tr>

<tbody>

<tr>
<td>1</td>
<td>Open website</td>
<td>Open <i>Commit Stop</i>'s web interface in a browser with an account that allows reading but not writing configurations.</td>
<td>The current configuration is displayed in full and a list of configuration changes below.</td>
</tr>


<tr>
<td>2</td>
<td>Change configuration</td>
<td>Add this line at the top of the configuration: <pre>
# Test 005</pre></td>
<td>The modified configuration is visible in the text area.</td>
</tr>

<tr>
<td>3</td>
<td>Comment change</td>
<td>In the comment field, enter: Test 005</td>
<td>The modified comment is visible in the input field</td>
</tr>

<tr>
<td>4</td>
<td>Save changes</td>
<td>Click "Submit" button</td>
<td>Could not save configuration. Message returned by server: 'Response with status: 403'</td>
</tr>

</tbody>
</table>
</section>


<footer>
(C) Copyright 2017 HIS e. G.
</footer>


</div>
</body>
</html>

